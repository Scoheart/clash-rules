mode: rule
log-level: debug
port: 7897

proxies:
  - name: USA-amazon
    type: ss
    server: 54.188.20.137
    port: 8488
    cipher: chacha20-ietf-poly1305
    password: 8888
    udp: false

rules:
  - RULE-SET,apple,USA-amazon
  - RULE-SET,claude,USA-amazon
  - RULE-SET,cursor,USA-amazon
  - RULE-SET,docker,USA-amazon
  - RULE-SET,github,USA-amazon
  - RULE-SET,google,USA-amazon
  - RULE-SET,openai,USA-amazon
  - RULE-SET,telegram,USA-amazon
  - RULE-SET,x,USA-amazon
  - RULE-SET,misc,USA-amazon
  - MATCH,DIRECT

rule-providers:
  apple:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,gs-loc-cn.apple.com

  claude:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,claude.ai
      - DOMAIN,code.claude.com
      - DOMAIN,docs.claude.com
      - DOMAIN,claude.com
      - DOMAIN,api.anthropic.com

  cursor:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,api2.cursor.sh

  docker:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,hub.docker.com
      - DOMAIN,auth.docker.com

  github:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,github.com
      - DOMAIN,raw.githubusercontent.com

  google:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,www.youtube.com                               # YouTube
      - DOMAIN,www.google.com                                # Google
      - DOMAIN,gemini.google.com                             # Gemini
      - DOMAIN,aistudio.google.com
      - DOMAIN,accounts.google.com
      - DOMAIN,i.ytimg.com
      - DOMAIN,lh3.googleusercontent.com
      - DOMAIN,www.gstatic.com
      - DOMAIN,clients4.google.com
      - DOMAIN,play.googleapis.com
      - DOMAIN,update.googleapis.com
      - DOMAIN,clientservices.googleapis.com
      - DOMAIN,safebrowsing.googleapis.com                   # Antigravity
      - DOMAIN,signaler-pa.clients6.google.com               # Antigravity
      - DOMAIN,daily-cloudcode-pa.sandbox.googleapis.com     # Antigravity
      - DOMAIN,mtalk.google.com                              # Antigravity
      - DOMAIN,www.googleapis.com                            # Antigravity
      - DOMAIN,content-autofill.googleapis.com
      - DOMAIN,oauth2.googleapis.com
      - DOMAIN,optimizationguide-pa.googleapis.com
      - DOMAIN-SUFFIX,youtube.com
      - DOMAIN-SUFFIX,googlevideo.com

  openai:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,chatgpt.com
      - DOMAIN,ab.chatgpt.com
      - DOMAIN,auth.openai.com
      - DOMAIN,ios.chat.openai.com
      - DOMAIN,realtime.chatgpt.com
      - DOMAIN,ws.chatgpt.com

  telegram:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,telegram.org
      - DOMAIN,api.telegram.org
      - DOMAIN,telegram.me
      - DOMAIN,telegram.dog
      - DOMAIN,telegram.bot
      - DOMAIN,t.me
      - DOMAIN,macos.telegram.org
      - DOMAIN,web.telegram.org
      - DOMAIN,venus.web.telegram
      - DOMAIN,venus.web.telegram.org
      - DOMAIN,kws2.web.telegram.org
      - DOMAIN,kws5.web.telegram.org
      - DOMAIN,flora.web.telegram.org
      - DOMAIN-SUFFIX,telegram.org

  x:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,x.com
      - DOMAIN,api.x.com
      - DOMAIN,grok.com
      - DOMAIN,ton.local.twitter.com
      - DOMAIN,api.twitter.com

  misc:
    type: inline
    behavior: classical
    payload:
      - DOMAIN,shadowsocks.org
      - DOMAIN,lmarena.ai
      - DOMAIN,axios-http.com
      - DOMAIN,cloud.dify.ai
      - DOMAIN,ollama.com
      - DOMAIN,app.warp.dev
      - DOMAIN,www.gravatar.com
